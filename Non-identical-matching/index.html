<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABA Word Matching Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .score-section {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: bold;
        }

        .trial-number {
            color: #667eea;
        }

        .score {
            color: #48bb78;
        }

        .game-card {
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-bottom: 20px;
        }

        .prompt-message {
            text-align: center;
            margin-bottom: 30px;
        }

        .prompt-message h2 {
            font-size: 36px;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .hint-badge {
            display: inline-block;
            background: #fef3c7;
            color: #d97706;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            animation: pulse 2s infinite;
        }

        .picture-container {
            text-align: center;
            margin-bottom: 40px;
        }

        .picture-box {
            display: inline-block;
            background: linear-gradient(135deg, #fde68a 0%, #fbbf24 100%);
            padding: 60px;
            border-radius: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }

        .picture-box:hover {
            transform: scale(1.05);
        }

        .picture-box.celebrating {
            animation: celebrate 0.6s;
        }

        .emoji {
            font-size: 120px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .option-button {
            background: linear-gradient(135deg, #a78bfa 0%, #818cf8 100%);
            color: white;
            border: none;
            padding: 30px;
            border-radius: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-family: 'Comic Sans MS', cursive, sans-serif;
        }

        .option-button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .option-button:disabled {
            cursor: not-allowed;
        }

        .option-button.highlight {
            background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
            animation: pulse 1.5s infinite;
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.6);
        }

        .option-button.correct {
            background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
            transform: scale(1.1);
        }

        .option-button.incorrect {
            background: linear-gradient(135deg, #f87171 0%, #ef4444 100%);
            animation: shake 0.3s;
        }

        .feedback-box {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .feedback-box.correct {
            background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
            color: white;
            animation: bounce 0.5s;
        }

        .feedback-box.incorrect {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
        }

        .feedback-box h3 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .feedback-box p {
            font-size: 24px;
        }

        .completion-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #a78bfa 0%, #f472b6 100%);
        }

        .completion-card {
            background: white;
            border-radius: 30px;
            padding: 60px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 500px;
            animation: bounce 1s;
        }

        .trophy {
            font-size: 100px;
            margin-bottom: 20px;
        }

        .completion-card h1 {
            font-size: 48px;
            color: #667eea;
            margin-bottom: 20px;
        }

        .completion-card .final-score {
            font-size: 36px;
            color: #48bb78;
            font-weight: bold;
            margin: 20px 0;
        }

        .play-again-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 50px;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.3s;
            font-family: 'Comic Sans MS', cursive, sans-serif;
        }

        .play-again-btn:hover {
            transform: scale(1.1);
        }

        .confetti {
            position: fixed;
            font-size: 40px;
            animation: fall 2s linear forwards;
            pointer-events: none;
        }

        .star-icon {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: gold;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes celebrate {
            0%, 100% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(-5deg) scale(1.1); }
            75% { transform: rotate(5deg) scale(1.1); }
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        var currentTrial = 0;
        var score = 0;
        var promptLevel = 0;
        var selectedWord = null;
        var attempts = 0;
        var celebrating = false;

        var trials = [
            { word: 'hat', image: 'üß¢', options: ['hat', 'cat', 'bat'] },
            { word: 'cat', image: 'üê±', options: ['cat', 'hat', 'mat'] },
            { word: 'dog', image: 'üêï', options: ['dog', 'log', 'fog'] },
            { word: 'sun', image: '‚òÄÔ∏è', options: ['sun', 'fun', 'run'] },
            { word: 'car', image: 'üöó', options: ['car', 'bar', 'far'] },
            { word: 'ball', image: '‚öΩ', options: ['ball', 'call', 'wall'] },
            { word: 'cup', image: 'ü•§', options: ['cup', 'pup', 'up'] },
            { word: 'bed', image: 'üõèÔ∏è', options: ['bed', 'red', 'fed'] },
            { word: 'book', image: 'üìö', options: ['book', 'look', 'cook'] },
            { word: 'tree', image: 'üå≥', options: ['tree', 'bee', 'see'] },
            { word: 'apple', image: 'üçé', options: ['apple', 'table', 'maple'] },
            { word: 'fish', image: 'üê†', options: ['fish', 'dish', 'wish'] },
            { word: 'bird', image: 'ü¶ú', options: ['bird', 'word', 'herd'] },
            { word: 'moon', image: 'üåô', options: ['moon', 'soon', 'spoon'] },
            { word: 'star', image: '‚≠ê', options: ['star', 'car', 'far'] },
            { word: 'house', image: 'üè†', options: ['house', 'mouse', 'blouse'] },
            { word: 'cake', image: 'üéÇ', options: ['cake', 'lake', 'make'] },
            { word: 'flower', image: 'üå∏', options: ['flower', 'tower', 'power'] },
            { word: 'train', image: 'üöÇ', options: ['train', 'rain', 'brain'] },
            { word: 'plane', image: '‚úàÔ∏è', options: ['plane', 'lane', 'cane'] },
            { word: 'butterfly', image: 'ü¶ã', options: ['butterfly', 'dragonfly', 'firefly'] },
            { word: 'elephant', image: 'üêò', options: ['elephant', 'dolphin', 'penguin'] },
            { word: 'rainbow', image: 'üåà', options: ['rainbow', 'window', 'pillow'] },
            { word: 'pizza', image: 'üçï', options: ['pizza', 'pasta', 'taco'] },
            { word: 'guitar', image: 'üé∏', options: ['guitar', 'piano', 'drum'] },
            { word: 'rocket', image: 'üöÄ', options: ['rocket', 'pocket', 'socket'] },
            { word: 'turtle', image: 'üê¢', options: ['turtle', 'purple', 'circle'] },
            { word: 'strawberry', image: 'üçì', options: ['strawberry', 'blueberry', 'raspberry'] },
            { word: 'bicycle', image: 'üö≤', options: ['bicycle', 'tricycle', 'motorcycle'] },
            { word: 'dinosaur', image: 'ü¶ï', options: ['dinosaur', 'alligator', 'crocodile'] }
        ];

        function getPromptMessage() {
            var trial = trials[currentTrial];
            if (promptLevel === 0) return "Match the word to the picture!";
            if (promptLevel === 1) return "Find the word that starts with \"" + trial.word[0] + "\"";
            if (promptLevel === 2) return "The word is \"" + trial.word + "\" - tap it!";
            return "";
        }

        function createConfetti() {
            var confettiSymbols = ['üéâ', '‚≠ê', 'üåü', '‚ú®'];
            for (var i = 0; i < 20; i++) {
                var confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.textContent = confettiSymbols[Math.floor(Math.random() * confettiSymbols.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                confetti.style.animationDuration = (1 + Math.random()) + 's';
                document.body.appendChild(confetti);
                
                setTimeout(function() {
                    confetti.remove();
                }, 2500);
            }
        }

        function handleWordClick(word) {
            var trial = trials[currentTrial];
            selectedWord = word;
            attempts++;

            var buttons = document.querySelectorAll('.option-button');
            buttons.forEach(function(btn) {
                btn.disabled = true;
            });

            var clickedButton = Array.from(buttons).find(function(btn) {
                return btn.textContent === word;
            });

            if (word === trial.word) {
                clickedButton.classList.add('correct');
                score++;
                celebrating = true;
                
                document.querySelector('.picture-box').classList.add('celebrating');
                
                setTimeout(function() {
                    document.getElementById('feedbackBox').innerHTML = '<div class="feedback-box correct"><h3>‚≠ê Great Job! ‚≠ê</h3><p>You matched it correctly!</p></div>';
                    createConfetti();
                }, 300);

                setTimeout(function() {
                    celebrating = false;
                    promptLevel = 0;
                    attempts = 0;
                    currentTrial++;
                    render();
                }, 2000);
            } else {
                clickedButton.classList.add('incorrect');
                
                setTimeout(function() {
                    document.getElementById('feedbackBox').innerHTML = '<div class="feedback-box incorrect"><h3>Let\'s try again!</h3><p>You can do it!</p></div>';
                }, 300);

                setTimeout(function() {
                    if (promptLevel < 2) {
                        promptLevel++;
                    } else {
                        promptLevel = 0;
                        attempts = 0;
                        currentTrial++;
                    }
                    render();
                }, 1500);
            }
        }

        function resetGame() {
            currentTrial = 0;
            score = 0;
            promptLevel = 0;
            attempts = 0;
            render();
        }

        function render() {
            var app = document.getElementById('app');

            if (currentTrial >= trials.length) {
                app.innerHTML = '<div class="completion-screen"><div class="completion-card"><div class="trophy">üèÜ</div><h1>Amazing Work!</h1><p style="font-size: 24px; color: #4a5568;">You completed all 30 trials!</p><div class="final-score">Score: ' + score + '/30</div><button class="play-again-btn" onclick="resetGame()">Play Again!</button></div></div>';
                return;
            }

            var trial = trials[currentTrial];
            var promptMessage = getPromptMessage();

            var optionsHTML = '';
            trial.options.forEach(function(option) {
                var highlightClass = (promptLevel === 2 && option === trial.word) ? 'highlight' : '';
                optionsHTML += '<button class="option-button ' + highlightClass + '" onclick="handleWordClick(\'' + option + '\')">' + option + '</button>';
            });

            var hintHTML = '';
            if (promptLevel > 0) {
                hintHTML = '<div class="hint-badge">‚ú® ' + (promptLevel === 1 ? 'Hint!' : 'Look here!') + ' ‚ú®</div>';
            }

            app.innerHTML = '<div class="container"><div class="header"><div class="score-section"><span class="star-icon"></span><span class="trial-number">Trial ' + (currentTrial + 1) + '/30</span></div><div class="score-section"><div class="trophy" style="font-size: 30px;">üèÜ</div><span class="score">Score: ' + score + '</span></div></div><div class="game-card"><div class="prompt-message"><h2>' + promptMessage + '</h2>' + hintHTML + '</div><div class="picture-container"><div class="picture-box ' + (celebrating ? 'celebrating' : '') + '"><div class="emoji">' + trial.image + '</div></div></div><div class="options-grid">' + optionsHTML + '</div></div><div id="feedbackBox"></div></div>';
        }

        render();
    </script>
</body>
</html>
