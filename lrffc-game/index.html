
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Receptive Identification Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Arial Rounded MT Bold', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .question-container {
            text-align: center;
            margin-bottom: 40px;
        }

        .question {
            font-size: 2em;
            color: #333;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .trial-info {
            color: #666;
            font-size: 1.2em;
        }

        .items-container {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .item {
            flex: 1;
            min-width: 200px;
            max-width: 250px;
            background: #f8f9fa;
            border: 5px solid #e0e0e0;
            border-radius: 20px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .item:hover {
            transform: translateY(-10px);
            border-color: #667eea;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .item.correct {
            border-color: #4caf50;
            background: #e8f5e9;
            animation: celebrate 0.6s ease;
        }

        .item.incorrect {
            border-color: #f44336;
            background: #ffebee;
            animation: shake 0.5s ease;
        }

        .item.disabled {
            pointer-events: none;
            opacity: 0.6;
        }

        .item-image {
            width: 100%;
            height: 200px;
            object-fit: contain;
            margin-bottom: 15px;
            border-radius: 10px;
            background: white;
        }

        .item-label {
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
            text-align: center;
        }

        @keyframes celebrate {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .score-container {
            text-align: center;
            font-size: 1.5em;
            color: #333;
            margin-bottom: 20px;
        }

        .score {
            font-weight: bold;
            color: #667eea;
        }

        .start-screen, .results-screen {
            text-align: center;
        }

        .start-button, .restart-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 20px 60px;
            font-size: 1.8em;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
        }

        .start-button:hover, .restart-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
        }

        .instructions {
            font-size: 1.3em;
            color: #666;
            margin: 30px 0;
            line-height: 1.6;
        }

        .results-screen h2 {
            font-size: 3em;
            color: #667eea;
            margin-bottom: 20px;
        }

        .final-score {
            font-size: 2.5em;
            margin: 30px 0;
        }

        .percentage {
            font-size: 4em;
            font-weight: bold;
            color: #4caf50;
            margin: 20px 0;
        }

        .feedback-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 3em;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .question {
                font-size: 1.5em;
            }
            
            .items-container {
                flex-direction: column;
                align-items: center;
            }
            
            .item {
                max-width: 300px;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Start Screen -->
        <div id="startScreen" class="start-screen">
            <h1>üéØ Receptive Identification Game üéØ</h1>
            <div class="instructions">
                <p>Listen carefully to each question and pick the correct answer!</p>
                <p>You'll see three pictures. Click on the one that matches what you hear.</p>
                <p>Let's have fun learning! üåü</p>
            </div>
            <button class="start-button" onclick="startGame()">Start Game! üöÄ</button>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="hidden">
            <h1>Find the Answer! üéØ</h1>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar">
                    <span id="progressText">0/10</span>
                </div>
            </div>

            <div class="score-container">
                Score: <span class="score" id="score">0</span> / <span id="totalTrials">10</span>
            </div>

            <div class="question-container">
                <div class="question" id="question">Loading...</div>
                <div class="trial-info">Trial <span id="currentTrial">1</span> of 10</div>
            </div>

            <div class="items-container" id="itemsContainer">
                <!-- Items will be inserted here -->
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="results-screen hidden">
            <h2>Great Job! üéâ</h2>
            <div class="final-score">
                You got <span class="score" id="finalScore">0</span> out of 10 correct!
            </div>
            <div class="percentage" id="percentageScore">0%</div>
            <div id="encouragement" style="font-size: 1.8em; margin: 20px 0; color: #666;"></div>
            <button class="restart-button" onclick="location.reload()">Play Again! üîÑ</button>
        </div>
    </div>

    <script>
        // Trial definitions with difficulty levels
        const allTrials = [
            // Easy trials (1-4) - Basic categories
            {
                question: "Which one is a toy?",
                items: [
                    { name: "ball", image: "images/ball.jpg", correct: true },
                    { name: "banana", image: "images/banana.jpg", correct: false },
                    { name: "cat", image: "images/cat.jpg", correct: false }
                ],
                difficulty: 1
            },
            {
                question: "Which one is food?",
                items: [
                    { name: "apple", image: "images/apple.jpg", correct: true },
                    { name: "car", image: "images/car.jpg", correct: false },
                    { name: "book", image: "images/book.jpg", correct: false }
                ],
                difficulty: 1
            },
            {
                question: "Which one is an animal?",
                items: [
                    { name: "shoe", image: "images/shoe.jpg", correct: false },
                    { name: "dog", image: "images/dog.jpg", correct: true },
                    { name: "cup", image: "images/cup.jpg", correct: false }
                ],
                difficulty: 1
            },
            {
                question: "Which one is clothing?",
                items: [
                    { name: "shirt", image: "images/shirt.jpg", correct: true },
                    { name: "pizza", image: "images/pizza.jpg", correct: false },
                    { name: "tree", image: "images/tree.jpg", correct: false }
                ],
                difficulty: 1
            },
            // Medium trials (5-7) - Functions
            {
                question: "Which one do you eat?",
                items: [
                    { name: "pencil", image: "images/pencil.jpg", correct: false },
                    { name: "cookie", image: "images/cookie.jpg", correct: true },
                    { name: "hat", image: "images/hat.jpg", correct: false }
                ],
                difficulty: 2
            },
            {
                question: "Which one do you ride?",
                items: [
                    { name: "spoon", image: "images/spoon.jpg", correct: false },
                    { name: "bicycle", image: "images/bicycle.jpg", correct: true },
                    { name: "flower", image: "images/flower.jpg", correct: false }
                ],
                difficulty: 2
            },
            {
                question: "Which one do you wear?",
                items: [
                    { name: "socks", image: "images/socks.jpg", correct: true },
                    { name: "chair", image: "images/chair.jpg", correct: false },
                    { name: "orange", image: "images/orange.jpg", correct: false }
                ],
                difficulty: 2
            },
            // Hard trials (8-10) - Features
            {
                question: "Which one is round?",
                items: [
                    { name: "crayon", image: "images/crayon.jpg", correct: false },
                    { name: "basketball", image: "images/basketball.jpg", correct: true },
                    { name: "book2", image: "images/book.jpg", correct: false }
                ],
                difficulty: 3
            },
            {
                question: "Which one is soft?",
                items: [
                    { name: "rock", image: "images/rock.jpg", correct: false },
                    { name: "teddy bear", image: "images/teddy-bear.jpg", correct: true },
                    { name: "key", image: "images/key.jpg", correct: false }
                ],
                difficulty: 3
            },
            {
                question: "Which one can fly?",
                items: [
                    { name: "fish", image: "images/fish.jpg", correct: false },
                    { name: "bird", image: "images/bird.jpg", correct: true },
                    { name: "backpack", image: "images/backpack.jpg", correct: false }
                ],
                difficulty: 3
            }
        ];

        let currentTrialIndex = 0;
        let score = 0;
        let trials = [];
        let hasAnswered = false;

        // Sound effects using Web Audio API
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        function playCorrectSound() {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
            oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
            oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2); // G5
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        }

        function playIncorrectSound() {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(300, audioContext.currentTime);
            oscillator.frequency.setValueAtTime(250, audioContext.currentTime + 0.15);
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function startGame() {
            // Shuffle trials and sort by difficulty
            trials = shuffleArray(allTrials).sort((a, b) => a.difficulty - b.difficulty);
            
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            loadTrial();
        }

        function loadTrial() {
            hasAnswered = false;
            const trial = trials[currentTrialIndex];
            
            // Update UI
            document.getElementById('question').textContent = trial.question;
            document.getElementById('currentTrial').textContent = currentTrialIndex + 1;
            document.getElementById('progressText').textContent = `${currentTrialIndex}/10`;
            document.getElementById('progressBar').style.width = `${(currentTrialIndex / 10) * 100}%`;
            
            // Shuffle items
            const shuffledItems = shuffleArray(trial.items);
            
            // Create item elements
            const container = document.getElementById('itemsContainer');
            container.innerHTML = '';
            
            shuffledItems.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'item';
                
                itemDiv.innerHTML = `
                    <img class="item-image" src="${item.image}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/200x200/cccccc/666666?text=${encodeURIComponent(item.name)}'">
                    <div class="item-label">${item.name}</div>
                `;
                
                itemDiv.onclick = () => selectItem(item.correct, itemDiv, trial);
                container.appendChild(itemDiv);
            });
        }

        function selectItem(isCorrect, itemDiv, trial) {
            if (hasAnswered) return;
            
            hasAnswered = true;
            
            // Disable all items
            document.querySelectorAll('.item').forEach(item => {
                item.classList.add('disabled');
            });
            
            if (isCorrect) {
                itemDiv.classList.add('correct');
                const icon = document.createElement('div');
                icon.className = 'feedback-icon';
                icon.textContent = '‚úì';
                icon.style.color = '#4caf50';
                itemDiv.appendChild(icon);
                
                score++;
                document.getElementById('score').textContent = score;
                playCorrectSound();
            } else {
                itemDiv.classList.add('incorrect');
                const icon = document.createElement('div');
                icon.className = 'feedback-icon';
                icon.textContent = '‚úó';
                icon.style.color = '#f44336';
                itemDiv.appendChild(icon);
                
                playIncorrectSound();
                
                // Show correct answer
                setTimeout(() => {
                    const items = document.querySelectorAll('.item');
                    const correctItem = trial.items.find(i => i.correct);
                    items.forEach((item) => {
                        if (item.querySelector('.item-label').textContent === correctItem.name) {
                            item.classList.add('correct');
                            const correctIcon = document.createElement('div');
                            correctIcon.className = 'feedback-icon';
                            correctIcon.textContent = '‚úì';
                            correctIcon.style.color = '#4caf50';
                            item.appendChild(correctIcon);
                        }
                    });
                }, 500);
            }
            
            // Move to next trial
            setTimeout(() => {
                currentTrialIndex++;
                if (currentTrialIndex < trials.length) {
                    loadTrial();
                } else {
                    showResults();
                }
            }, 2500);
        }

        function showResults() {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            const percentage = Math.round((score / 10) * 100);
            document.getElementById('finalScore').textContent = score;
            document.getElementById('percentageScore').textContent = percentage + '%';
            
            let encouragement = '';
            if (percentage === 100) {
                encouragement = 'Perfect! You\'re a superstar! üåü';
                document.getElementById('percentageScore').style.color = '#FFD700';
            } else if (percentage >= 80) {
                encouragement = 'Excellent work! Keep it up! üéâ';
                document.getElementById('percentageScore').style.color = '#4caf50';
            } else if (percentage >= 60) {
                encouragement = 'Great effort! You\'re learning! üëç';
                document.getElementById('percentageScore').style.color = '#2196f3';
            } else {
                encouragement = 'Good try! Let\'s practice more! üí™';
                document.getElementById('percentageScore').style.color = '#ff9800';
            }
            
            document.getElementById('encouragement').textContent = encouragement;
        }
    </script>
</body>
</html>
